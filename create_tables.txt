CREATE TABLE Cars(
	VIN VARCHAR(17),
	Make VARCHAR(30),
	Model VARCHAR(30),
	YR INTEGER,
        LOCATION_ID CHAR(3),
	RentPerDay DOUBLE,
        CONSTRAINT cars_pk PRIMARY KEY (VIN)
);
CREATE TABLE Customers(
	CSTN INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY,
	Firstname VARCHAR(30),
	Lastname VARCHAR(30),
	Address VARCHAR(40),
	City VARCHAR(30),
	CState CHAR(2),
	Zip_Code INTEGER,
        Email VARCHAR(30),
        Phone VARCHAR(15),
        CONSTRAINT customers_pk PRIMARY KEY (CSTN)
);
CREATE TABLE RentalLocation(
	LOCATION_ID CHAR(3),
	LOCATION_NAME VARCHAR(30),
	LOCATION_CITY char(40),
        CONSTRAINT RentalLocation_pk PRIMARY KEY (LOCATION_ID)
);

CREATE TABLE Rented(
	RentalNo INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY,
	VIN VARCHAR(17),
	CSTN INTEGER,
	LOCATION_ID CHAR(3),
	DateRented DATE,
	DaysRented INTEGER,
        RentalPrice DOUBLE,
        CONSTRAINT Rented_pk PRIMARY KEY (RentalNo)
);
ALTER TABLE RENTED
ADD FOREIGN KEY (VIN)
REFERENCES CARS (VIN);

ALTER TABLE RENTED
ADD FOREIGN KEY (CSTN)
REFERENCES CUSTOMERS (CSTN);
ALTER TABLE RENTED
ADD FOREIGN KEY (LOCATION_ID)
REFERENCES RENTALLOCATION (LOCATION_ID);
CREATE TABLE Returned(
	ReceiptNo INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY,
	VIN VARCHAR(20),
    	CSTN INTEGER,
	LOCATION_ID CHAR(3),
	DateReturned DATE,
        CONSTRAINT Returned_pk PRIMARY KEY (ReceiptNo)
);
ALTER TABLE RETURNED
ADD FOREIGN KEY (VIN)
REFERENCES CARS (VIN);

ALTER TABLE RETURNED
ADD FOREIGN KEY (CSTN)
REFERENCES CUSTOMERS (CSTN);

ALTER TABLE RETURNED
ADD FOREIGN KEY (LOCATION_ID)
REFERENCES RENTALLOCATION (LOCATION_ID);


